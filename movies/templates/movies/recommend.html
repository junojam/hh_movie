{% extends 'base.html' %}

{% block index %}
<br>
<html lang="en" style="height: 100%">
<body class="mainbackgroundimagesetting">
<body>
    <div class="container indexmainbackgroundimagesetting">
        <br>
    <!-- 1차 추천 -->
        <h4 class="text-white">
            
            &ensp;&ensp;<span class="fw-bold">{{user}}</span>&ensp;님을 위한 랜덤 추천!
        </h4>
        <div id="carouselExampleCaptions1" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators " style="margin-left:135px;">
                {% for i in "x"|rjust:movies_len_4_1 %}
                    {% if forloop.counter0 == 0 %}
                        <button type="button" data-bs-target="#carouselExampleCaptions1" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    {% else %}
                        <button type="button" data-bs-target="#carouselExampleCaptions1" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter0|add:"1" }}"></button>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="carousel-inner ">
                <div class="carousel-item active">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 1 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 2 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 3 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 4 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if movies_len_1 > 5 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 5 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 6 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 7 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 8 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 9 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 9 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 10 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 11 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 12 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 13 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 13 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 14 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 15 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 16 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 17 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 17 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 18 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 19 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 20 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 21 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 21 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 22 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 23 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 24 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 25 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 25 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 26 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 27 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 28 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 29 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 29 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 30 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 31 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 32 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 33 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 33 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 34 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 35 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 36 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_1 > 37 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies %}
                            {% if forloop.counter == 37 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 38 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 39 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 40 and forloop.counter <= movies_len_1 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                </div>
                <br>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions1" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions1" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        <!-- 1차 추천 끝 -->
        <!-- 2차 추천 -->
        {% if director_temp %}
        <h4 class="text-white">
            &ensp;&ensp;<span class="fw-bold">{{director.name}}</span>&ensp;감독을 좋아하시나요?
        </h4>
        <div id="carouselExampleCaptions2" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators" style="margin-left:135px;">
                {% for i in "x"|rjust:movies_len_4_2 %}
                    {% if forloop.counter0 == 0 %}
                        <button type="button" data-bs-target="#carouselExampleCaptions2" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    {% else %}
                        <button type="button" data-bs-target="#carouselExampleCaptions2" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter0|add:"1" }}"></button>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="carousel-inner ">
                <div class="carousel-item active">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 1 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 2 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 3 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 4 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if movies_len_2 > 5 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 5 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 6 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 7 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 8 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 9 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 9 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 10 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 11 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 12 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 13 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 13 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 14 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 15 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 16 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 17 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 17 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 18 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 19 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 20 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 21 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 21 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 22 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 23 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 24 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 25 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 25 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 26 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 27 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 28 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 29 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 29 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 30 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 31 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 32 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 33 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 33 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 34 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 35 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 36 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_2 > 37 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies2 %}
                            {% if forloop.counter == 37 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 38 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 39 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 40 and forloop.counter <= movies_len_2 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                </div>
                <br>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions2" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions2" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        {% else %}
        <h4 class="text-white">
            &ensp;&ensp;좋아하는 감독이 없으신가요?
        </h4>
        <div class="text-center text-white">
            <br>
            <br>
            <h5>좋아요<span style="color:red;">&#x2665;</span> 를 눌러 좋아하는 감독의 작품을 추천받아보세요!</h5>
            <br>   
            <br>
        </div>

        {% endif %}
        <!-- 2차 추천 끝 -->
        <!-- 3차 추천 -->
        {% if actor_temp %}
        <h4 class="text-white">
            <span class="fw-bold">&ensp;&ensp;{{actor.name}}</span>&ensp;배우를 좋아하시나요?
        </h4>
        <div id="carouselExampleCaptions3" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators" style="margin-left:135px;">
                {% for i in "x"|rjust:movies_len_4_3 %}
                    {% if forloop.counter0 == 0 %}
                        <button type="button" data-bs-target="#carouselExampleCaptions3" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    {% else %}
                        <button type="button" data-bs-target="#carouselExampleCaptions3" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter0|add:"1" }}"></button>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 1 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 2 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 3 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 4 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if movies_len_3 > 5 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 5 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 6 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 7 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 8 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 9 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 9 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 10 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 11 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 12 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 13 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 13 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 14 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 15 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 16 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 17 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 17 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 18 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 19 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 20 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 21 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 21 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 22 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 23 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 24 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 25 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 25 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 26 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 27 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 28 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 29 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 29 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 30 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 31 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 32 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 33 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 33 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 34 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 35 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 36 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_3 > 37 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies3 %}
                            {% if forloop.counter == 37 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 38 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 39 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 40 and forloop.counter <= movies_len_3 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                </div>
                <br>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions3" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions3" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        {% else %}
            <h4 class="text-white">
                &ensp;&ensp;좋아하는 배우가 없으신가요?
            </h4>
            <div class="text-center text-white">
                <br>
                <br>
                <h5>좋아요<span style="color:red;">&#x2665;</span> 를 눌러 좋아하는 배우의 작품을 추천받아보세요!</h5>
                <br>   
                <br>
            </div>
        {% endif %}
        <!-- 3차 추천 끝 -->
        <!-- 4차 추천 -->
        {% if scores_temp %}
        <h4 class="text-white">
            &ensp;&ensp;<span class="fw-bold">{{user}}</span>&ensp;님이 가장 높은 평점을 준 장르 : {{scores_movie_genre}}
        </h4>
        <div id="carouselExampleCaptions4" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators" style="margin-left:135px;">
                {% for i in "x"|rjust:movies_len_4_4 %}
                    {% if forloop.counter0 == 0 %}
                        <button type="button" data-bs-target="#carouselExampleCaptions4" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    {% else %}
                        <button type="button" data-bs-target="#carouselExampleCaptions4" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter0|add:"1" }}"></button>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="carousel-inner ">
                <div class="carousel-item active">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 1 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 2 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 3 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 4 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if movies_len_4 > 5 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 5 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 6 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 7 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 8 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 9 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 9 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 10 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 11 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 12 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 13 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 13 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 14 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 15 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 16 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 17 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 17 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 18 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 19 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 20 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 21 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 21 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 22 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 23 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 24 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 25 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 25 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 26 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 27 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 28 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 29 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 29 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 30 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 31 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 32 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 33 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 33 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 34 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 35 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 36 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_4 > 37 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 37 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 38 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 39 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 40 and forloop.counter <= movies_len_4 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                </div>
                <br>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions4" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions4" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        {% else %}
        <h4 class="text-white">
            &ensp;&ensp;좋아하는 영화 장르가 없으신가요?
        </h4>
        <div class="text-center text-white">
            <br>
            <br>
            <h5>영화에 평점<span style="color:yellow;">&#9733;</span> 를 매겨 좋아하는 영화 장르의 작품을 추천받아보세요!</h5>
            <br>   
            <br>
        </div>
        {% endif %}
        <!-- 4차 추천 끝 -->
        <!-- 5차 추천 -->
        {% comment %} {% if  %} {% endcomment %}
        <h4 class="text-white">
            &ensp;&ensp;<span class="fw-bold">{{user}}</span>&ensp;님이 4점 이상을 많이 준 장르 : {{genre}}
        </h4>
        <div id="carouselExampleCaptions5" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators" style="margin-left:135px;">
                {% for i in "x"|rjust:movies_len_4_5 %}
                    {% if forloop.counter0 == 0 %}
                        <button type="button" data-bs-target="#carouselExampleCaptions5" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    {% else %}
                        <button type="button" data-bs-target="#carouselExampleCaptions5" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Slide {{ forloop.counter0|add:"1" }}"></button>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="carousel-inner ">
                <div class="carousel-item active">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 1 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 2 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 3 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 4 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if movies_len_5 > 5 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 5 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 6 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 7 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 8 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 9 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 9 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 10 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 11 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 12 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 13 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 13 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 14 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 15 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 16 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 17 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 17 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 18 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 19 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 20 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 21 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 21 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 22 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 23 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 24 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 25 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 25 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 26 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 27 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 28 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 29 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies4 %}
                            {% if forloop.counter == 29 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 30 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 31 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 32 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 33 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 33 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 34 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 35 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 36 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                {% if movies_len_5 > 37 %}
                <div class="carousel-item">
                    <div class="d-flex justify-content-center">
                        {% for movie in movies5 %}
                            {% if forloop.counter == 37 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 38 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 39 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                            {% if forloop.counter == 40 and forloop.counter <= movies_len_5 %}
                            <div class="mb-3">
                                <a class="text-decoration-none" href="{% url 'movies:detail' movie.pk %}">
                                    <img width=200px; style="margin-right:50px" src="https://www.themoviedb.org/t/p/original{{ movie.poster_path }}" alt="">
                                </a>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                </div>
                <br>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions5" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions5" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        {% comment %} {% else %}
        <h4 class="text-white">
            &ensp;&ensp;좋아하는 영화 장르가 없으신가요?
        </h4>
        <div class="text-center text-white">
            <br>
            <br>
            <h5>영화에 평점<span style="color:yellow;">&#9733;</span> 를 매겨 좋아하는 영화 장르의 작품을 추천받아보세요!</h5>
            <br>   
            <br>
        </div>
        {% endif %} {% endcomment %}
    </div>
</body>
<br>
<br>
{% endblock index %}